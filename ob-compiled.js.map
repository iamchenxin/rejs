{"version":3,"sources":["ob.js"],"names":[],"mappings":"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","file":"ob-compiled.js","sourcesContent":["\"use strict\";\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction OBSERVER_EXCEPTION(message) {\r\n    this._message = message;\r\n    this.name = \"OBSERVER_EXCEPTION\";\r\n}\r\n\r\nvar _OpNode = (function () {\r\n    function _OpNode(parent, func) {\r\n        _classCallCheck(this, _OpNode);\r\n\r\n        this._parent = parent;\r\n        this._children = new Array();\r\n\r\n        this._func = func;\r\n        this._refCount = 0;\r\n    }\r\n\r\n    _createClass(_OpNode, [{\r\n        key: \"_CreateChild\",\r\n        value: function _CreateChild(func) {\r\n            var newNode = new Operators(this, func);\r\n            this._children.push(newNode);\r\n            return newNode;\r\n        }\r\n    }, {\r\n        key: \"_CheckRoot\",\r\n        value: function _CheckRoot(root) {\r\n            if (root instanceof Creations) {\r\n                if (root._inPlace) {\r\n                    root._inPlaceInit();\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_LeafTraceToRoot\",\r\n        value: function _LeafToRootRefcount(step) {\r\n            var checkRoot = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\r\n            var buildChain = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\r\n\r\n            var node = this;\r\n            var leafToRootChain = [];\r\n            var rootToLeafChain = null;\r\n\r\n            do {\r\n                if (buildChain) {\r\n                    leafToRootChain.push(node);\r\n                }\r\n\r\n                node._refCount += step;\r\n                node = node._parent;\r\n            } while (node != null);\r\n            if (checkRoot) {\r\n                rootToLeafChain = new RootToLeafChain(leafToRootChain);\r\n            }\r\n            return rootToLeafChain;\r\n        }\r\n    }, {\r\n        key: \"_RefToRoot\",\r\n        value: function _RefToRoot() {\r\n            this._LeafTraceToRoot(1);\r\n        }\r\n    }, {\r\n        key: \"_UnRefToRoot\",\r\n        value: function _UnRefToRoot() {\r\n            this._LeafTraceToRoot(-1);\r\n        }\r\n    }, {\r\n        key: \"_Subscribe\",\r\n        value: function _Subscribe(func) {\r\n            var checkRoot = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\r\n\r\n            var child = this._CreateChild(func);\r\n            var rootToLeafChain = child._RefToRoot();\r\n\r\n            if (checkRoot) {\r\n                this._CheckRoot(rootToLeafChain._rootToLeafChain[0]);\r\n            }\r\n            return child;\r\n        }\r\n    }, {\r\n        key: \"_UnSubscribe\",\r\n        value: function _UnSubscribe() {\r\n            this._UnRefToRoot();\r\n            return null;\r\n        }\r\n    }, {\r\n        key: \"_Excute\",\r\n        value: function _Excute(inarg) {\r\n            if (this._refCount == 0) return;\r\n\r\n            var arg = this._func(inarg);\r\n\r\n            var _iteratorNormalCompletion = true;\r\n            var _didIteratorError = false;\r\n            var _iteratorError = undefined;\r\n\r\n            try {\r\n                for (var _iterator = this._children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\r\n                    var child = _step.value;\r\n\r\n                    child._Excute(arg);\r\n                }\r\n            } catch (err) {\r\n                _didIteratorError = true;\r\n                _iteratorError = err;\r\n            } finally {\r\n                try {\r\n                    if (!_iteratorNormalCompletion && _iterator.return) {\r\n                        _iterator.return();\r\n                    }\r\n                } finally {\r\n                    if (_didIteratorError) {\r\n                        throw _iteratorError;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Transforming base\r\n\r\n    }, {\r\n        key: \"_Op_Transform\",\r\n        value: function _Op_Transform(func) {\r\n            return this._CreateChild(func);\r\n        }\r\n    }], [{\r\n        key: \"_Create\",\r\n        value: function _Create(func) {\r\n            return new Operators(null, func);\r\n        }\r\n    }]);\r\n\r\n    return _OpNode;\r\n})();\r\n\r\nvar Operators = (function (_OpNode2) {\r\n    _inherits(Operators, _OpNode2);\r\n\r\n    function Operators() {\r\n        _classCallCheck(this, Operators);\r\n\r\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Operators).apply(this, arguments));\r\n    }\r\n\r\n    _createClass(Operators, [{\r\n        key: \"Subscribe\",\r\n        value: function Subscribe(func) {\r\n            return this._Subscribe(func);\r\n        }\r\n    }, {\r\n        key: \"UnSubscribe\",\r\n        value: function UnSubscribe() {\r\n            return this._UnSubscribe();\r\n        }\r\n    }, {\r\n        key: \"Map\",\r\n        value: function Map(func) {\r\n            return this._Op_Transform(func);\r\n        }\r\n    }, {\r\n        key: \"Update\",\r\n        value: function Update() {}\r\n    }, {\r\n        key: \"UpdateMe\",\r\n        value: function UpdateMe() {}\r\n    }, {\r\n        key: \"Update\",\r\n        value: function Update(observer1, observer2, observer3) {}\r\n    }, {\r\n        key: \"UpdateAll\",\r\n        value: function UpdateAll() {}\r\n    }]);\r\n\r\n    return Operators;\r\n})(_OpNode);\r\n\r\nvar RootToLeafChain = (function (_Operators) {\r\n    _inherits(RootToLeafChain, _Operators);\r\n\r\n    function RootToLeafChain(leafToRootChain) {\r\n        _classCallCheck(this, RootToLeafChain);\r\n\r\n        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(RootToLeafChain).call(this, null, null));\r\n\r\n        _this2._rootToLeafChain = [];\r\n\r\n        leafToRootChain.reverse();\r\n        var node = new Operators(null, leafToRootChain[0]._func);\r\n        _this2._rootToLeafChain.push(node);\r\n        for (var i = 1; i < leafToRootChain.length; i++) {\r\n            node = new Operators(node, leafToRootChain[i]._func);\r\n            _this2._rootToLeafChain.push(node);\r\n        }\r\n\r\n        return _this2;\r\n    }\r\n\r\n    return RootToLeafChain;\r\n})(Operators);\r\n\r\n// all Creations are static ,there are factory\r\n\r\nvar Creations = (function (_Operators2) {\r\n    _inherits(Creations, _Operators2);\r\n\r\n    function Creations(parent, func, inPlaceInit) {\r\n        var inPlace = arguments.length <= 3 || arguments[3] === undefined ? true : arguments[3];\r\n\r\n        _classCallCheck(this, Creations);\r\n\r\n        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(Creations).call(this, parent, func));\r\n\r\n        _this3._inPlaceInit = inPlaceInit;\r\n        _this3._inPlace = inPlace;\r\n        return _this3;\r\n    }\r\n\r\n    _createClass(Creations, null, [{\r\n        key: \"InPlace\",\r\n        value: function InPlace(inPlaceFunc) {\r\n            return new Creations(null, function (v) {\r\n                return v;\r\n            }, inPlaceFunc);\r\n        }\r\n    }, {\r\n        key: \"Init\",\r\n        value: function Init(func) {\r\n            return new Creations(null, func, null, false);\r\n        }\r\n    }]);\r\n\r\n    return Creations;\r\n})(Operators);\r\n\r\nvar Observer = (function (_Operators3) {\r\n    _inherits(Observer, _Operators3);\r\n\r\n    function Observer(parent, func) {\r\n        _classCallCheck(this, Observer);\r\n\r\n        var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(Observer).call(this, parent, func));\r\n\r\n        _this4._subscriptions = [];\r\n        if (parent) {\r\n            _this4._subscriptions.push(parent);\r\n        }\r\n        return _this4;\r\n    }\r\n\r\n    _createClass(Observer, [{\r\n        key: \"SubscribeTo\",\r\n        value: function SubscribeTo(operator) {\r\n            var func = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\r\n\r\n            if (func == null) {\r\n                if (this._func != null) {\r\n                    func = this._func;\r\n                } else {\r\n                    throw new OBSERVER_EXCEPTION(\"the func of observer should not be null\");\r\n                }\r\n            }\r\n            //CONTINOUS\r\n            //  operator.Subscribe();\r\n        }\r\n    }]);\r\n\r\n    return Observer;\r\n})(Operators);\r\n\r\nexports.Operators = Operators;\r\nexports.Creations = Creations;\r\nexports.Observer = Observer;\r\n"]}